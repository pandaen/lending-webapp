<nav class="navbar navbar-inverse" xmlns:margin-right="http://www.w3.org/1999/xhtml"
     xmlns:margin-right="http://www.w3.org/1999/xhtml" xmlns:margin-right="http://www.w3.org/1999/xhtml">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
              aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">Borrowing admin-console</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">

      <ul class="nav navbar-nav navbar-left">
        <li *ngIf="tabs"><a [routerLink]="['']"><i class='glyphicon glyphicon-list-alt'></i> Items</a></li>
      </ul>

      <ul class="nav navbar-nav navbar-left">
        <li *ngIf="tabs"><a [routerLink]="['/users']"> <i class='glyphicon glyphicon-user'></i> Users</a></li>
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-left">
        <li *ngIf="tabs"><a [routerLink]="['/users']">Overview</a></li>
      </ul>
-->
      <ul class="nav navbar-nav navbar-right" style="margin-right:10px">
        <li *ngIf="tabs"><a (click)="logout()"> <i class='glyphicon glyphicon-log-out'> Logout</i></a></li>
      </ul>


    </div>
  </div>
</nav>



<popup #popup1 (confirmClick)="onAddSubmit()">

  <form class="form-horizontal">
    <div class="form-group">
      <label class="col-sm-3 control-label">Item name</label>
      <div class="col-sm-7">
        <input type="text" class="form-control" name="name" [(ngModel)]="name" id="name" placeholder="Name">
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-3 control-label">Entity</label>

   <!--
      <div class="col-sm-7">
      <select  class="form-control" [(ngModel)]="selectedItemAdd"   (ngModelChange)="onclickedValue($event)"  >
        <optgroup label="Your entities">
          <option *ngFor="let entity of entities "   [ngValue]="entity"   [attr.selected]="userEntityName==entity?.name ? true : null"> {{entity?.name}}</option>
        </optgroup>
        <optgroup label="Joined entities">
          <option *ngFor="let jEntity of joinedEntities "  [ngValue]="jEntity" > {{jEntity?.entityName}}</option>
        </optgroup>
      </select>
      </div>
-->


      <div class="col-sm-7">
        <input type="text" class="form-control" name="n/a" [(ngModel)]="n/a" id="entity"
               placeholder="Choose entity">
      </div>
    </div>


    <div class="form-group">
      <label class="col-sm-3 control-label">Reservation Days</label>
      <div class="col-sm-2">
        <input class="form-control" type="number" value="3" id="reservationDays">
      </div>
    </div>


    <div class="form-group">
      <label class="col-sm-3 control-label">Description</label>
      <div class="col-sm-7">

        <textarea (ngModel)='description' name="description" ide="description'" rows="2" cols="32">
</textarea>

      </div>
    </div>


    <div class="form-group">


      <div *ngIf="changingImage">
        <img-cropper [image]="data" [settings]="cropperSettings"></img-cropper>
        <br>
        <img
          [src]="data && data.image ? data.image :  'http://placehold.it/128x128'"
          class="profile-img">
        <button type="button" class="btn btn-default" (click)='onChangingImageClick()'>Ok</button>
      </div>


      <div *ngIf="!changingImage">
        <b>Item image</b>
        <div>
          <div align="center">
            <img id="imageID"
              [src]="data && data.image ? data.image :  'http://placehold.it/128x128'"
              class="profile-img"><br>
          </div>
          <button type="button" (click)="onChangingImageClick()">Choose Image</button>
        </div>
      </div>


      <!--
            <label  class="col-sm-3 control-label">Image</label>
          </div>
            <img-cropper [image]="data" [settings]="cropperSettings"></img-cropper><br>
            <img [src]="data.image" [width]="cropperSettings.croppedWidth" [height]="cropperSettings.croppedHeight">
            </div>
            -->


    </div>
  </form>


</popup>


<div class="panel panel-primary">
  <div class='panel-heading'>

    <img src="../../assets/images/logo_bannerjpg_placeholder.jpg"/>

    <div  class="col-sm-1">
      <label>Current entity:</label>
    </div>




    <div  class="col-sm-3">
      <select  class="form-control" [(ngModel)]="selectedItem"  (ngModelChange)="onclickedValue($event)"  >
        <optgroup label="Your entities">
        <option *ngFor="let entity of entities "   [ngValue]="entity"   [attr.selected]="userEntityName==entity?.name ? true : null"> {{entity?.name}}</option>
        </optgroup>
        <optgroup label="Joined entities">
          <option *ngFor="let jEntity of joinedEntities " [ngValue]="jEntity"   [attr.selected]="userEntityName==entity?.name ? true : null"> {{jEntity?.entityName}}</option>
        </optgroup>
      </select>
    </div>

    <ul class="nav navbar-nav navbar-right">
      <img class="avatar" align="left" [src]="userImage">
      <li><a>{{theUser}} </a></li>
    </ul>

    <!--
        <ul class="nav navbar-nav navbar-right">
          <li><a>{{theUser}} Logged in</a></li>
        </ul>
    -->
  </div>

  <div class='panel-body'>
    <div class="search" align="right">
      <div class='col-md-3'>
        <input type='text' [(ngModel)]='listFilter' placeholder="Search for items"/>  <!-- bind listFilter -->
      </div>
    </div>

    <div class='row' style="margin-bottom:10px" *ngIf='listFilter'>

      <h3>Searched for : {{listFilter}} </h3>

    </div>

    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <div class="btn-group mr-3" role="group" aria-label="First group">
        <button type="button" class="btn btn-default" [class.active]="filterBy==='all'" (click)="filterBy='all'">All
        </button>
        <button type="button" class="btn btn-default" [class.active]="filterBy==='available'"
                (click)="filterBy='available'">In stock
        </button>
        <button class="btn btn-default" [class.active]="filterBy==='out'" (click)="filterBy='out'">Out now</button>
      </div>

      <div class="btn-group mr-3 " role="group" aria-label="Second group">
        <button type="button" class="btn btn-default" [class.active]="filterBy==='notify'" (click)="filterBy='notify'">
          Overdue
        </button>
      </div>


      <div class="btn-group mr-3 " role="group" aria-label="Second group">

        <button type="button" class="btn btn-default" (click)='addDialog()'>Add item</button>

        <!--
        <button type="button" class="btn btn-default" [routerLink]="['/add']">Add item</button>
-->
      </div>

    </div>

    <app-item-list-nest [filterBy]="filterBy" [items]="items" [listFilter]="listFilter"></app-item-list-nest>
  </div>

</div>
